[debug] [2020-01-28T21:15:24.258Z] ----------------------------------------------------------------------
[debug] [2020-01-28T21:15:24.260Z] Command:       /usr/local/nvm/versions/node/v10.14.2/bin/node /usr/local/nvm/versions/node/v10.14.2/bin/firebase --project qwiklabs-gcp-00-99469d5687e3 deploy --only functions
[debug] [2020-01-28T21:15:24.260Z] CLI Version:   7.12.1
[debug] [2020-01-28T21:15:24.260Z] Platform:      linux
[debug] [2020-01-28T21:15:24.261Z] Node Version:  v10.14.2
[debug] [2020-01-28T21:15:24.261Z] Time:          Tue Jan 28 2020 16:15:24 GMT-0500 (Eastern Standard Time)
[debug] [2020-01-28T21:15:24.261Z] ----------------------------------------------------------------------
[debug] [2020-01-28T21:15:24.261Z] 
[debug] [2020-01-28T21:15:24.269Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-01-28T21:15:24.270Z] > attempting to authenticate via app default credentials
[debug] [2020-01-28T21:15:24.311Z] ya29.Iq4Buwfry_05GszXHd9SreJjbKWneLrECmBNp0goNG-__2FKR3Te7_5Wxlj-O1Hq3SYXFtwkB6GIXPTy0feOqgKj480xSkdTHhDSqgRCJNALJ-zLRWkjXnF9_3VlN_C8cnbwQjU5GrygZjMYjJajdLg-ocbU8wYCfdlYgUHA-53eon8-TpSFHMBadLBVFJnzxTQ6Rszi199STzHqIWDBgLq_1zzPIDlLsycJHlJ7hMWL
[debug] [2020-01-28T21:15:24.312Z] > retrieved access token via default credentials
[debug] [2020-01-28T21:15:24.312Z] [iam] checking project qwiklabs-gcp-00-99469d5687e3 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2020-01-28T21:15:24.314Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/qwiklabs-gcp-00-99469d5687e3:testIamPermissions  

[debug] [2020-01-28T21:15:24.374Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'qwiklabs-gcp-00-99469d5687e3'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix $RESOURCE_DIR run lint
[info] Running command: npm --prefix $RESOURCE_DIR run build
[info] ✔  functions: Finished running predeploy script.
[debug] [2020-01-28T21:15:36.160Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "./node_modules/.bin/tslint -p tslint.json",
    "build": "./node_modules/.bin/tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase experimental:functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "check": "gts check",
    "clean": "gts clean",
    "compile": "tsc -p .",
    "fix": "gts fix",
    "prepare": "npm run compile",
    "pretest": "npm run compile",
    "posttest": "npm run check"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/iot": "^1.1.3",
    "@types/cbor": "^2.0.0",
    "cbor": "^4.0.0",
    "firebase-admin": "^8.4.0",
    "firebase-functions": "^3.2.0"
  },
  "devDependencies": {
    "gts": "^0.5.4",
    "tslint": "^5.8.0",
    "typescript": "^3.5.3"
  },
  "engines": {
    "node": "8"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2020-01-28T21:15:36.161Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/qwiklabs-gcp-00-99469d5687e3/services/cloudfunctions.googleapis.com  
 
[debug] [2020-01-28T21:15:36.162Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/qwiklabs-gcp-00-99469d5687e3/services/runtimeconfig.googleapis.com  
 
[debug] [2020-01-28T21:15:36.323Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:15:36.328Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2020-01-28T21:15:36.329Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/qwiklabs-gcp-00-99469d5687e3/adminSdkConfig  
 
[debug] [2020-01-28T21:15:36.472Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2020-01-28T21:15:36.476Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/qwiklabs-gcp-00-99469d5687e3/configs  
 
[debug] [2020-01-28T21:15:36.544Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:15:36.545Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/qwiklabs-gcp-00-99469d5687e3/configs/iot/variables  
 
[debug] [2020-01-28T21:15:37.106Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:15:37.107Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/qwiklabs-gcp-00-99469d5687e3/configs/iot/variables/core/region  
 
[debug] [2020-01-28T21:15:37.107Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/qwiklabs-gcp-00-99469d5687e3/configs/iot/variables/core/registry  
 
[debug] [2020-01-28T21:15:37.229Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:15:37.265Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (47.83 KB) for uploading
[debug] [2020-01-28T21:15:39.991Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/qwiklabs-gcp-00-99469d5687e3/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2020-01-28T21:16:11.379Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:11.380Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-3dec2ea9-3fd8-4664-bd93-7edcf1e4e8e5/58ebaec9-2af8-4704-af29-959543b52a7f.zip?GoogleAccessId=service-406552930699@gcf-admin-robot.iam.gserviceaccount.com&Expires=1580247971&Signature=iM031acvuYDLBqs%2Bc28pNC9IrCX8KoaSoM8frASnXa78Mjekjsdlc0iP%2BzduMVy2wB2aRT8aHjITxrKppsmUhZQ3zFVsRq87CzCpRg3Y7Mw6vulbHPb4HgMAkBVah%2BskKA5v2bIdK4L96c4%2BFJrfyNEnpUbA%2F%2FE%2Bi9NCXJz34si0XNXtFKEn6cmBE%2Bok2lnXp%2BXAfTS7vWESk5B5JQDD%2F%2F205sS5RTPXcfzuSRxGwTT2LG0uKA%2FXnGeRTOlNZYrMLLJmkKwe%2B%2B3DxdVDdULW%2BRB04y4ETtd6O6QeP9VGOW5ByLgqFxQ9WAaMsznZKM5fOaJStNa11O37kqSmSX736Q%3D%3D  
 <request body omitted>
[debug] [2020-01-28T21:16:11.585Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2020-01-28T21:16:11.589Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/qwiklabs-gcp-00-99469d5687e3/locations/-/functions  
 
[debug] [2020-01-28T21:16:11.881Z] <<< HTTP RESPONSE 200
[info] i  functions: creating Node.js 8 function configUpdate(us-central1)...
[debug] [2020-01-28T21:16:11.883Z] Trigger is:  {"eventTrigger":{"resource":"projects/qwiklabs-gcp-00-99469d5687e3/databases/(default)/documents/device-configs/{deviceId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"}}
[info] i  functions: creating Node.js 8 function configUpdateBinary(us-central1)...
[debug] [2020-01-28T21:16:11.883Z] Trigger is:  {"eventTrigger":{"resource":"projects/qwiklabs-gcp-00-99469d5687e3/databases/(default)/documents/device-configs-binary/{deviceId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"}}
[debug] [2020-01-28T21:16:11.886Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/qwiklabs-gcp-00-99469d5687e3/services/cloudscheduler.googleapis.com  
 
[debug] [2020-01-28T21:16:12.053Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:12.055Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/qwiklabs-gcp-00-99469d5687e3/locations/us-central1/functions  

[debug] [2020-01-28T21:16:12.055Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/qwiklabs-gcp-00-99469d5687e3/locations/us-central1/functions  

[debug] [2020-01-28T21:16:12.430Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:12.607Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:12.608Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGUvSjdhV1Vxa0pHbG8  
 
[debug] [2020-01-28T21:16:12.609Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGVCaW5hcnkvRlhwdW43YzgxRjA  
 
[debug] [2020-01-28T21:16:12.716Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:12.911Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:14.718Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGVCaW5hcnkvRlhwdW43YzgxRjA  
 
[debug] [2020-01-28T21:16:14.911Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGUvSjdhV1Vxa0pHbG8  
 
[debug] [2020-01-28T21:16:15.004Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:15.013Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:17.006Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGUvSjdhV1Vxa0pHbG8  
 
[debug] [2020-01-28T21:16:17.014Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGVCaW5hcnkvRlhwdW43YzgxRjA  
 
[debug] [2020-01-28T21:16:17.101Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:17.303Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:19.103Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGUvSjdhV1Vxa0pHbG8  
 
[debug] [2020-01-28T21:16:19.244Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:19.303Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGVCaW5hcnkvRlhwdW43YzgxRjA  
 
[debug] [2020-01-28T21:16:19.405Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:21.246Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGUvSjdhV1Vxa0pHbG8  
 
[debug] [2020-01-28T21:16:21.340Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:21.406Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGVCaW5hcnkvRlhwdW43YzgxRjA  
 
[debug] [2020-01-28T21:16:21.720Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:23.342Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGUvSjdhV1Vxa0pHbG8  
 
[debug] [2020-01-28T21:16:23.685Z] <<< HTTP RESPONSE 200
[debug] [2020-01-28T21:16:23.722Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/cXdpa2xhYnMtZ2NwLTAwLTk5NDY5ZDU2ODdlMy91cy1jZW50cmFsMS9jb25maWdVcGRhdGVCaW5hcnkvRlhwdW43YzgxRjA  
 
[debug] [2020-01-28T21:16:23.821Z] <<< HTTP RESPONSE 200
